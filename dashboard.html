<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>KI Copytrading Dashboard</title>
  <style>
    body { font-family: Arial, sans-serif; background: #111; color: #eee; padding: 20px; }
    h1 { text-align: center; color: #00d9ff; }
    .section { margin-bottom: 30px; padding: 20px; background: #222; border-radius: 8px; }
    .button { padding: 10px 20px; margin: 5px; font-size: 16px; cursor: pointer; border: none; border-radius: 5px; }
    .toggle { background-color: #00aaff; color: white; }
    .status { font-weight: bold; padding: 5px 10px; border-radius: 5px; display: inline-block; margin-left: 10px; }
    .active { background-color: #28a745; }
    .paused { background-color: #dc3545; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th, td { padding: 10px; text-align: center; border: 1px solid #444; }
    th { background-color: #333; }
    .ava { background-color: #1c2c3c; }
    .naga { background-color: #2e1c3c; }
    .report-area { background: #181818; padding: 15px; border-radius: 6px; white-space: pre-wrap; font-family: monospace; margin-top: 10px; }
  </style>
</head>
<body>
  <h1>Martin’s KI Copytrading Dashboard</h1>

  <div class="section">
    <h2>Status</h2>
    <button class="button toggle" onclick="toggleTrader()">Trader umschalten</button>
    <span id="traderStatus" class="status active">Aktiv</span>
  </div>

  <div class="section">
    <h2>Verbindungen</h2>
    <button class="button toggle" onclick="connectAVA()">AVA verbinden</button>
    <button class="button toggle" onclick="connectNAGA()">NAGA verbinden</button>
  </div>

  <div class="section">
    <h2>Risikosteuerung</h2>
    <button class="button toggle" onclick="setRisk()">Risiko setzen</button>
  </div>

  <div class="section">
    <h2>Offene Positionen</h2>
    <table>
      <thead>
        <tr>
          <th>Plattform</th>
          <th>Symbol</th>
          <th>Richtung</th>
          <th>Lotgröße</th>
          <th>SL</th>
          <th>TP</th>
          <th>Trader</th>
        </tr>
      </thead>
      <tbody id="tradeList">
        <!-- Dynamisch geladen -->
      </tbody>
    </table>
  </div>

  <div class="section">
    <h2>Tagesreport</h2>
    <div class="report-area" id="pdfReport">
      Noch kein Report geladen...
    </div>
    <button class="button toggle" onclick="loadPDF()">PDF Report laden</button>
  </div>

  <script>
    let traderPaused = false;

    function toggleTrader() {
      traderPaused = !traderPaused;
      const status = document.getElementById('traderStatus');
      status.className = 'status ' + (traderPaused ? 'paused' : 'active');
      status.textContent = traderPaused ? 'Pausiert' : 'Aktiv';
    }

    function connectAVA() {
      alert("AVA API verbunden!");
    }

    function connectNAGA() {
      alert("NAGA API verbunden!");
    }

    function setRisk() {
      const risk = prompt("Gib das Risiko in % ein (z. B. 1.5 für 1,5%):", "1.0");
      if (risk) {
        alert("Risiko gesetzt auf " + risk + "%");
      }
    }

    function loadPDF() {
      const dummyReport = `
Datum: 26.07.2025
Trades heute:
- EUR/USD (Buy), Lot: 0.2, Gewinn: +14,80 €
- DAX (Sell), Lot: 0.1, Verlust: -5,60 €
Gesamtergebnis: +9,20 €
Risiko heute: 1,0%
      `;
      document.getElementById("pdfReport").textContent = dummyReport;
    }

    function loadTrades() {
      const trades = [
        { platform: "AVA", symbol: "EUR/USD", direction: "Buy", lot: "0.2", sl: "1.0860", tp: "1.0940", trader: "TopTrader01" },
        { platform: "AVA", symbol: "Gold", direction: "Sell", lot: "0.1", sl: "2380", tp: "2350", trader: "XAUPro" },
        { platform: "NAGA", symbol: "DAX", direction: "Buy", lot: "0.3", sl: "18500", tp: "18850", trader: "IndexKing" },
        { platform: "NAGA", symbol: "Apple", direction: "Sell", lot: "0.5", sl: "214", tp: "205", trader: "US-Tech-Guru" }
      ];
      const tbody = document.getElementById("tradeList");
      tbody.innerHTML = "";
      trades.forEach(trade => {
        const tr = document.createElement("tr");
        tr.className = trade.platform.toLowerCase();
        tr.innerHTML = `
          <td>${trade.platform}</td>
          <td>${trade.symbol}</td>
          <td>${trade.direction}</td>
          <td>${trade.lot}</td>
          <td>${trade.sl}</td>
          <td>${trade.tp}</td>
          <td>${trade.trader}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    // Initialer Aufruf
    loadTrades();
  </script>
</body>
</html>